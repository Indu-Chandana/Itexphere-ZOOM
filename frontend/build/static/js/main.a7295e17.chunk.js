(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,t,a){e.exports=a(221)},135:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},192:function(e,t){},207:function(e,t){},209:function(e,t){},216:function(e,t,a){},217:function(e,t,a){},219:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(53),l=a.n(r),o=(a(135),a(14)),i=a(54),s=a(27),m=a(42),u=a.n(m),d=a(56),E=a(50);function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var p=Object(E.b)("counter/fetchCount",function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=Object(E.c)({name:"user",initialState:{user:null,status:"idle"},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}},extraReducers:function(e){e.addCase(p.pending,(function(e){e.status="loading"})).addCase(p.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),b=f.actions,v=b.login,h=(b.logout,function(e){return e.user.user}),N=f.reducer,j=a(3),O=a(110),k=a.n(O).a.create({baseURL:"https://zoom-002-oct04.herokuapp.com"}),S=a(35),C=a.n(S),w=(a(158),a(8));a(159);function _(e){var t=e.open,a=e.children,r=e.onclose,l=Object(n.useState)(""),o=Object(j.a)(l,2),i=o[0],s=o[1],m=Object(n.useState)(""),E=Object(j.a)(m,2),g=E[0],p=E[1],f=Object(n.useState)(""),b=Object(j.a)(f,2),v=b[0],h=b[1];if(!t)return null;var N=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,k.post("/newroom",{name:v,lang:i,capacity:g});case 3:p(""),s(""),h(""),r();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"overlay"}),c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"modal_top"},c.a.createElement("div",{className:"model_top_left"},c.a.createElement("p",null,"Topic"),c.a.createElement("input",{value:v,onChange:function(e){return h(e.target.value)},placeholder:"Any topic"})),c.a.createElement("div",{className:"model_top_right"},c.a.createElement("p",null,"Maximum People"),c.a.createElement("select",{value:g,onChange:function(e){return p(e.target.value)}},c.a.createElement("option",{value:"unlimited"},"Unlimited"),c.a.createElement("option",{value:"1"},"1"),c.a.createElement("option",{value:"2"},"2"),c.a.createElement("option",{value:"3"},"3"),c.a.createElement("option",{value:"4"},"4"),c.a.createElement("option",{value:"5"},"5")))),c.a.createElement("div",{className:"modal_bottom"},c.a.createElement("p",null,"Language"),c.a.createElement("select",{value:i,onChange:function(e){return s(e.target.value)}},c.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},"Select a language"),c.a.createElement("option",{value:"English"},"English"),c.a.createElement("option",{value:"Korean"},"Korean"),c.a.createElement("option",{value:"Sinhala"},"Sinhala"),c.a.createElement("option",{value:"Javanese"},"Javanese"),c.a.createElement("option",{value:"Chinese"},"Chinese"),c.a.createElement("option",{value:"5"},"Hindi"))),c.a.createElement("div",{className:"modal_button"},c.a.createElement("button",{onClick:r},"cancel"),c.a.createElement("button",{onClick:N},"create")),a))}var y=a(115),I=a.n(y),T=a(116),x=a.n(T),M=a(117),P=a.n(M),D=a(118),L=a.n(D),A=a(119),V=a.n(A),U=a(112),J=a.n(U),R=a(114),q=a.n(R),W=a(120),F=a.n(W),G=a(121),H=a.n(G),z=a(122),B=a.n(z),K=Object(n.createContext)(),X=function(e){var t=e.children,a=Object(n.useState)([]),r=Object(j.a)(a,2),l=r[0],o=r[1],i=Object(n.useState)([]),s=Object(j.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)([]),E=Object(j.a)(d,2),g=E[0],p=E[1];return c.a.createElement(K.Provider,{value:{peers:l,setPeers:o,socketName:m,twoSocketName:g,setSocketName:u,setTwoSocketName:p}},t)},Q=function(e){Object(n.useContext)(K).peers;var t=Object(o.c)(h),a=Object(n.useState)([]),r=Object(j.a)(a,2),l=r[0],i=r[1],m=Object(n.useState)(""),u=Object(j.a)(m,2),d=(u[0],u[1],Object(n.useState)(!1)),E=Object(j.a)(d,2),g=E[0],p=E[1],f=Object(n.useState)(!1),b=Object(j.a)(f,2),v=b[0],N=b[1],O=Object(s.f)();Object(n.useEffect)((function(){k.get("/get").then((function(e){i(e.data)}))}),[l]);return c.a.createElement("div",{className:"full"},c.a.createElement("div",{className:"create-room-main"},c.a.createElement("div",{className:"top"},c.a.createElement("div",{className:"top-left-img"},c.a.createElement("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ_W9vt7UNUkNjcTDHLJToF7pH71bZzLDkj5__5IAUt_qLL8yCyleU5ACamuJ-XWMs3XE0&usqp=CAU",alt:""})),c.a.createElement("div",{className:"lssa"},c.a.createElement("div",{className:"top-right",onClick:function(){return N((function(e){return!e}))}},c.a.createElement("div",{className:"top-right-img"},c.a.createElement("img",{src:t.image,alt:""})),c.a.createElement("span",null,t.name),c.a.createElement(w.b,{className:"icon"})),v&&c.a.createElement("div",{className:"top-right-menu"},c.a.createElement("div",{className:"top-right-menu-top"},c.a.createElement("div",{className:"top-right-menu-top-img"},c.a.createElement("img",{src:t.image,alt:""})),c.a.createElement("h3",null,t.name),c.a.createElement("span",null,t.email)),c.a.createElement("div",{className:"top-right-menu-below"},c.a.createElement("div",{className:"top-right-menu-below-one",onClick:function(){return O.push("/profile")}},c.a.createElement(J.a,{className:"menu-icon"})," ",c.a.createElement("p",null,"Your Profile")),c.a.createElement("div",{className:"top-right-menu-below-one"},c.a.createElement(q.a,{className:"menu-icon"}),c.a.createElement(S.GoogleLogout,{clientId:"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com",render:function(e){return c.a.createElement("p",{onClick:e.onClick,disabled:e.disabled},"LogOut")},buttonText:"Login",onLogoutSuccess:function(){window.location.reload()}})))))),c.a.createElement("div",{className:"header-title"},c.a.createElement("p",null," Language Practice Community ")),c.a.createElement("div",{className:"header-top"},c.a.createElement("div",{onClick:function(){return p(!0)},className:"popup-button"},c.a.createElement(I.a,{className:"addIcon"}),c.a.createElement("button",null," Create New Room ")),c.a.createElement(_,{open:g,onclose:function(){return p(!1)}}),c.a.createElement("div",{className:"buy-me-coffee"},c.a.createElement(x.a,{className:"breakIcon"}),c.a.createElement("button",null," buy me a coffe ")),c.a.createElement("div",{className:"herder-top-button"},c.a.createElement(P.a,{className:"herder-top-icon"}),c.a.createElement("button",null," Free4Talk App ")),c.a.createElement("div",{className:"herder-top-button"},c.a.createElement(L.a,{className:"herder-top-icon"}),c.a.createElement("button",null," Privacy Policy ")),c.a.createElement("div",{className:"herder-top-button"},c.a.createElement(V.a,{className:"herder-top-icon"}),c.a.createElement("button",null," Facebook group "))),c.a.createElement("div",{className:"header-mid"}),c.a.createElement("div",{className:"names"},l.map((function(a,n){return c.a.createElement("div",{className:"form",key:n},c.a.createElement("div",{className:"form__top"},c.a.createElement(F.a,{className:"form__top-icon"}),c.a.createElement("p",null,a.name),c.a.createElement(H.a,{className:"form__top-icon"})),c.a.createElement("div",{className:"form__middle"},c.a.createElement("img",{src:t.image,alt:""})),c.a.createElement("div",{className:"form__end"},c.a.createElement("div",{className:"form__end-border"},c.a.createElement(B.a,{className:"form__end-icon"}),c.a.createElement("button",{onClick:function(){var t;t=a._id,e.history.push("/room/".concat(t))}},"Join and talk now!"))))})))))},Y=(a(162),a(236));var Z=function(){var e=Object(o.b)();return c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"login__container"},c.a.createElement("img",{src:"https://www.seekpng.com/png/full/87-873512_phone-call-logo-png-mobile-calling-logo-png.png",alt:""}),c.a.createElement("div",{className:"login__text"},c.a.createElement("h1",null,"Sign in to Free4talk")),c.a.createElement(C.a,{clientId:"988836340451-pqpi4evnl7qut2h2b647p5rttkjrqbg0.apps.googleusercontent.com",render:function(e){return c.a.createElement(Y.a,{onClick:e.onClick,disabled:e.disabled},"Sign In With Google")},buttonText:"Login",onSuccess:function(t){console.log(t.profileObj),e(v({name:t.profileObj.name,image:t.profileObj.imageUrl,email:t.profileObj.email}))},isSignedIn:!0})))};a(163);var $=function(){var e=Object(o.c)(h),t=Object(s.f)();return c.a.createElement("div",{className:"profileScreen"},c.a.createElement("div",{className:"profileScreen__body"},c.a.createElement("h1",null,"My Profile"),c.a.createElement("div",{className:"profileScreen__info"},c.a.createElement("img",{src:e.image,alt:""}),c.a.createElement("div",{className:"profileScreen__details"},c.a.createElement("h2",null,e.name),c.a.createElement("p",null,e.email),c.a.createElement(S.GoogleLogout,{clientId:"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com",render:function(e){return c.a.createElement("button",{onClick:e.onClick,disabled:e.disabled,className:"profileScreen__signOut"},"Sign Out")},buttonText:"Login",onLogoutSuccess:function(){t.push("/"),window.location.reload()}})))))},ee=a(9),te=a(32),ae=a(123),ne=a.n(ae),ce=a(75),re=a.n(ce),le=a(76);a(216);var oe=function(e){var t=e.isAudio,a=e.toggleAudio,n=e.isVideo,r=e.toggleVideo,l=e.isPresenting,o=e.stopScreenShare,i=e.screenShare,s=e.disconnectCall;return c.a.createElement("div",{className:"footer-items"},c.a.createElement("div",{className:"left-item"},c.a.createElement("div",{className:"icon-block"},"Meeting details",c.a.createElement(w.a,{className:"icon"}))),c.a.createElement("div",{className:"center-item"},c.a.createElement("div",{className:"icon-block ".concat(t?null:"red-bg"),onClick:function(){return a(!t)}},t?c.a.createElement(w.f,{className:"icon"}):c.a.createElement(w.g,{className:"icon"})),c.a.createElement("div",{className:"icon-block",onClick:s},c.a.createElement(w.i,{className:"icon red"})),c.a.createElement("div",{className:"icon-block ".concat(n?null:"red-bg"),onClick:function(){return r(!n)}},n?c.a.createElement(w.m,{className:"icon"}):c.a.createElement(w.n,{className:"icon"}))),c.a.createElement("div",{className:"right-item"},c.a.createElement("div",{className:"icon-block"},c.a.createElement(w.c,{className:"icon red"}),c.a.createElement("p",{className:"title"}," Turn on caption ")),l?c.a.createElement("div",{className:"icon-block",onClick:o},c.a.createElement(w.e,{className:"icon red"}),c.a.createElement("p",{className:"title"}," Stop Present ")):c.a.createElement("div",{className:"icon-block",onClick:i},c.a.createElement(w.e,{className:"icon red"}),c.a.createElement("p",{className:"title"}," Present now "))))},ie=(a(217),a(124)),se=a.n(ie),me=function(e){return se()(e).format("h:mm A")};var ue=function(e){e.isMessenger;var t=e.setIsMessenger,a=(e.messageAlert,e.setMessageAlert,Object(o.c)(h)),r=Object(n.useContext)(K).peers,l=null,i=Object(n.useState)((function(){return me()})),s=Object(j.a)(i,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){return l=setInterval((function(){return u(me())}),1e3),function(){clearInterval(l)}}),[]),c.a.createElement("div",{className:"frame-header"},c.a.createElement("div",{className:"header-items icon-block"},c.a.createElement(w.l,{className:"icon"}),c.a.createElement("span",{className:"alert-circle-icon"},r.length+1)),c.a.createElement("div",{className:"header-items icon-block",onClick:function(){t(!0)}},c.a.createElement(w.d,{className:"icon"})),c.a.createElement("div",{className:"header-items date-block"},m),c.a.createElement("div",{className:"header-items icon-block"},c.a.createElement(w.k,{src:a.image,className:"icon profile"})))};a(219);var de=function(){var e=Object(n.useContext)(K),t=e.socketName,a=e.twoSocketName,r=Object(o.c)(h);return console.log("socketName",t),console.log("twoSocketName",a),c.a.createElement("div",null,c.a.createElement("p",null,r.name," - (me)"),t.map((function(e){return c.a.createElement("p",null,e)})),a.map((function(e){return c.a.createElement("p",null,e)})))};var Ee=function(e){var t=e.setIsMessenger,a=(e.sendMsg,e.messageList,e.messages),r=e.message,l=e.handleChange,o=e.sendMessage,i=e.peers,s=Object(n.useState)(!1),m=Object(j.a)(s,2),u=m[0],d=m[1];return c.a.createElement("div",{className:"messenger-container"},c.a.createElement("div",{className:"messenger-header"},c.a.createElement("h3",null,"Meeting Details"),c.a.createElement(w.j,{className:"icon",onClick:function(){t(!1)}})),c.a.createElement("div",{className:"messenger-header-tabs"},c.a.createElement("div",{className:"tab ".concat(u&&"active"," "),onClick:function(){d(!0)}},c.a.createElement(w.l,null),c.a.createElement("p",null,"People ",i.length+1)),c.a.createElement("div",{className:"tab ".concat(!u&&"active"," "),onClick:function(){d(!1)}},c.a.createElement(w.d,{className:"icon"}),c.a.createElement("p",null,"Chat"))),c.a.createElement("div",{className:"chat-section"},u?c.a.createElement(de,null):c.a.createElement("div",null,a.map((function(e){return c.a.createElement("div",{className:"chat-block"},c.a.createElement("div",{className:"sender"},"you ",c.a.createElement("small",null," 10 PM ")),c.a.createElement("p",{className:"msg"},e.body))})))),c.a.createElement("div",{className:"send-msg-section"},c.a.createElement("input",{placeholder:"Send a message to everyone",value:r,onChange:l}),c.a.createElement(w.h,{className:"icon",onClick:o})))};function ge(){var e=Object(te.a)(["\n    height: 40%;\n    width: 50%;\n"]);return ge=function(){return e},e}function pe(){var e=Object(te.a)(["\n    height: 100vh;\n    width: 100%;\n    object-fit: cover;\n    position: absolute;\n    z-index: -1;\n    top: 0;\n    left: 0;\n    background: black;\n"]);return pe=function(){return e},e}var fe=le.a.div(pe()),be=le.a.video(ge()),ve=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){e.peer.on("stream",(function(e){t.current.srcObject=e}))}),[]),c.a.createElement(be,{playsInline:!0,autoPlay:!0,ref:t})},he={height:window.innerHeight/2,width:window.innerWidth/2},Ne=function(e){var t=Object(n.useContext)(K),a=t.peers,r=t.setPeers,l=Object(n.useContext)(K),i=l.setSocketName,m=l.setTwoSocketName,u=Object(o.c)(h),d=Object(s.f)(),E=Object(n.useRef)(),g=Object(n.useRef)(),p=Object(n.useRef)([]),f=Object(n.useState)(),b=Object(j.a)(f,2),v=b[0],N=b[1],O=Object(n.useState)(),k=Object(j.a)(O,2),S=k[0],C=k[1],w=Object(n.useState)(!1),_=Object(j.a)(w,2),y=_[0],I=_[1],T=Object(n.useState)(!0),x=Object(j.a)(T,2),M=x[0],P=x[1],D=Object(n.useState)(!0),L=Object(j.a)(D,2),A=L[0],V=L[1],U=e.match.params.roomID,J=Object(n.useState)(),R=Object(j.a)(J,2),q=R[0],W=R[1],F=Object(n.useState)(!1),G=Object(j.a)(F,2),H=G[0],z=G[1],B=Object(n.useState)([]),X=Object(j.a)(B,2),Q=X[0],Y=X[1],Z=Object(n.useState)(""),$=Object(j.a)(Z,2),te=$[0],ae=$[1],ce=Object(n.useState)(u.name),le=Object(j.a)(ce,2),ie=le[0];le[1];Object(n.useEffect)((function(){E.current=ne.a.connect("/"),navigator.mediaDevices.getUserMedia({video:he,audio:!0}).then((function(e){N(e),g.current.srcObject=e,E.current.emit("join room",U),E.current.on("all users",(function(t){var a=[];t.forEach((function(t){var n=function(e,t,a){var n=new re.a({initiator:!0,trickle:!1,stream:a});return n.on("signal",(function(a){E.current.emit("sending signal",{userToSignal:e,callerID:t,signal:a,name:ie})})),W(n),n}(t,E.current.id,e);p.current.push({peerID:t,peer:n}),a.push(n)})),r(a)})),E.current.on("user joined",(function(t){m((function(e){return[].concat(Object(ee.a)(e),[t.name])}));var a=function(e,t,a,n){var c=new re.a({initiator:!1,trickle:!1,stream:a});return c.on("signal",(function(e){E.current.emit("returning signal",{signal:e,callerID:t,name:n})})),c.signal(e),W(c),c}(t.signal,t.callerID,e,t.name);p.current.push({peerID:t.callerID,peer:a}),r((function(e){return[].concat(Object(ee.a)(e),[a])}))})),E.current.on("receiving returned signal",(function(e){i((function(t){return[].concat(Object(ee.a)(t),[e.name])})),p.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)})),E.current.on("message",(function(e){!function(e){Y((function(t){return[].concat(Object(ee.a)(t),[e])}))}(e)}))}))}),[]);return console.log(q),console.log(a),console.log(ie),c.a.createElement(fe,null,c.a.createElement(be,{muted:!0,ref:g,autoPlay:!0,playsInline:!0}),a.map((function(e,t){return c.a.createElement(ve,{key:t,peer:e})})),c.a.createElement(ue,{isMessenger:H,setIsMessenger:z}),c.a.createElement(oe,{isAudio:M,toggleAudio:function(e){v.getAudioTracks()[0].enabled=e,P(e)},isVideo:A,toggleVideo:function(e){v.getVideoTracks()[0].enabled=e,V(e)},isPresenting:y,stopScreenShare:function(){S.getVideoTracks().forEach((function(e){e.stop()})),q.replaceTrack(S.getVideoTracks()[0],v.getVideoTracks()[0],v),I(!1)},screenShare:function(){navigator.mediaDevices.getDisplayMedia({cursor:!0}).then((function(e){q.replaceTrack(v.getVideoTracks()[0],e.getVideoTracks()[0],v),C(e),e.getTracks()[0].onended=function(){q.replaceTrack(e.getVideoTracks()[0],v.getVideoTracks()[0],v)},I(!0)}))},disconnectCall:function(){d.push("/"),window.location.reload()}}),H?c.a.createElement(Ee,{setIsMessenger:z,message:te,messages:Q,handleChange:function(e){ae(e.target.value)},sendMessage:function(e){e.preventDefault();var t={body:te};ae(""),E.current.emit("send message",t)},peers:a}):null)};var je=function(){var e=Object(o.c)(h);return c.a.createElement(X,null,c.a.createElement(i.a,null,e?c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/",exact:!0,component:Q}),c.a.createElement(s.a,{path:"/room/:roomID",component:Ne}),c.a.createElement(s.a,{path:"/profile",component:$})):c.a.createElement(Z,null)))},Oe=Object(E.a)({reducer:{user:N}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(o.a,{store:Oe},c.a.createElement(je,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[130,1,2]]]);
//# sourceMappingURL=main.a7295e17.chunk.js.map